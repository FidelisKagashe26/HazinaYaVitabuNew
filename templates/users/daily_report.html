{% extends 'users/home.html' %}
{% load static %}
{% load i18n %}

{% block header %}
{% trans "Daily Report" %} - {% trans "Hazina ya Vitabu" %}
{% endblock %}

{% block main_block %}
<div class="flex {% if theme == 'dark' %}bg-gray-900{% else %}bg-gray-50{% endif %} min-h-screen">
    <!-- Sidebar -->
    <div class="w-64 {% if theme == 'dark' %}bg-gray-800 border-gray-700{% else %}bg-white border-gray-200{% endif %} border-r shadow-lg">
        <div class="p-6">
            <h2 class="text-xl font-bold {% if theme == 'dark' %}text-blue-400{% else %}text-blue-700{% endif %} mb-6">{% trans "Seller Menu" %}</h2>
            <nav class="space-y-2">
                <a href="{% url 'seller_dashboard' %}" class="block p-3 rounded-lg {% if theme == 'dark' %}text-gray-300 hover:bg-gray-700{% else %}text-gray-700 hover:bg-gray-100{% endif %} transition duration-200">
                    <i class="bi bi-speedometer2 mr-2"></i>{% trans "Dashboard" %}
                </a>
                <a href="{% url 'daily_report' %}" class="block p-3 rounded-lg {% if theme == 'dark' %}bg-blue-600 text-white{% else %}bg-blue-100 text-blue-700{% endif %}">
                    <i class="bi bi-calendar-check mr-2"></i>{% trans "Daily Report" %}
                </a>
                <a href="{% url 'book_sales_report' %}" class="block p-3 rounded-lg {% if theme == 'dark' %}text-gray-300 hover:bg-gray-700{% else %}text-gray-700 hover:bg-gray-100{% endif %} transition duration-200">
                    <i class="bi bi-book mr-2"></i>{% trans "Book Sales" %}
                </a>
                <a href="{% url 'shop' %}" class="block p-3 rounded-lg {% if theme == 'dark' %}text-gray-300 hover:bg-gray-700{% else %}text-gray-700 hover:bg-gray-100{% endif %} transition duration-200">
                    <i class="bi bi-bag mr-2"></i>{% trans "View Products" %}
                </a>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <div class="flex-1 p-8">
        <!-- Header Section -->
        <header class="mb-8 pb-6 border-b-2 {% if theme == 'dark' %}border-blue-400{% else %}border-blue-400{% endif %}">
            <h1 class="text-4xl font-extrabold text-center {% if theme == 'dark' %}text-blue-400{% else %}text-blue-800{% endif %}">{% trans "Daily Report" %}</h1>
            <p class="text-center text-lg mt-3 {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %}">
                {% trans "Fill your daily work report" %} - {{ report.date|date:"F d, Y" }}
            </p>
        </header>

        <div class="max-w-2xl mx-auto">
            <div class="{% if theme == 'dark' %}bg-gray-800 border-gray-700{% else %}bg-white{% endif %} p-8 rounded-lg shadow-lg border">
                {% if messages %}
                    {% for message in messages %}
                        <div class="mb-4 p-4 rounded {% if message.tags == 'success' %}bg-green-100 text-green-800 border border-green-300{% else %}bg-red-100 text-red-800 border border-red-300{% endif %}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
                
                <form method="post" class="space-y-6">
                    {% csrf_token %}
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="books_sold_money" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Books Sold for Money" %}</label>
                            <input type="number" name="books_sold_money" id="books_sold_money" min="0" 
                                   class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                                   value="{{ report.books_sold_money }}" required>
                        </div>
                        
                        <div>
                            <label for="books_given_free" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Books Given for Free" %}</label>
                            <input type="number" name="books_given_free" id="books_given_free" min="0" 
                                   class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                                   value="{{ report.books_given_free }}" required>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="houses_visited" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Houses Visited" %}</label>
                            <input type="number" name="houses_visited" id="houses_visited" min="0" 
                                   class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                                   value="{{ report.houses_visited }}" required>
                        </div>
                        
                        <div>
                            <label for="teachings_given" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Teachings Given" %}</label>
                            <input type="number" name="teachings_given" id="teachings_given" min="0" 
                                   class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                                   value="{{ report.teachings_given }}" required>
                        </div>
                    </div>
                    
                    <div>
                        <label for="working_hours" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Working Hours" %}</label>
                        <input type="number" name="working_hours" id="working_hours" min="0" max="24" step="0.5" 
                               class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                               value="{{ report.working_hours }}" required>
                    </div>
                    
                    <div>
                        <label for="additional_notes" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Additional Notes" %}</label>
                        <textarea name="additional_notes" id="additional_notes" rows="4" 
                                  class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                                  placeholder="{% trans 'Any additional notes or comments...' %}">{{ report.additional_notes }}</textarea>
                    </div>

                    <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium">
                        {% trans "Save Report" %}
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}