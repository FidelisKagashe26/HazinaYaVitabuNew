{% extends 'users/home.html' %}
{% load static %}
{% load i18n %}

{% block header %}
{% trans "Daily Report" %} - {% trans "Hazina ya Vitabu" %}
{% endblock %}

{% block main_block %}
<div class="py-8 px-6 md:px-16 {% if theme == 'dark' %}bg-gray-900{% else %}bg-gray-50{% endif %}">
    <!-- Header Section -->
    <header class="mb-8 mt-4 pb-6 border-b-2 {% if theme == 'dark' %}border-blue-400{% else %}border-blue-400{% endif %}">
        <h1 class="text-4xl font-extrabold text-center {% if theme == 'dark' %}text-blue-400{% else %}text-blue-800{% endif %}">{% trans "Daily Report" %}</h1>
        <p class="text-center text-lg mt-3 {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %}">
            {% trans "Fill your daily work report" %} - {{ report.date|date:"F d, Y" }}
        </p>
    </header>

    <div class="max-w-2xl mx-auto">
        <div class="{% if theme == 'dark' %}bg-gray-800 border-gray-700{% else %}bg-white{% endif %} p-8 rounded-lg shadow-lg border">
            {% if messages %}
                {% for message in messages %}
                    <div class="mb-4 p-4 rounded {% if message.tags == 'success' %}bg-green-100 text-green-800 border border-green-300{% else %}bg-red-100 text-red-800 border border-red-300{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
            
            <form method="post" class="space-y-6">
                {% csrf_token %}
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="books_sold_money" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Books Sold for Money" %}</label>
                        <input type="number" name="books_sold_money" id="books_sold_money" min="0" 
                               class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                               value="{{ report.books_sold_money }}" required>
                    </div>
                    
                    <div>
                        <label for="books_given_free" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Books Given for Free" %}</label>
                        <input type="number" name="books_given_free" id="books_given_free" min="0" 
                               class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                               value="{{ report.books_given_free }}" required>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="houses_visited" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Houses Visited" %}</label>
                        <input type="number" name="houses_visited" id="houses_visited" min="0" 
                               class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                               value="{{ report.houses_visited }}" required>
                    </div>
                    
                    <div>
                        <label for="teachings_given" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Teachings Given" %}</label>
                        <input type="number" name="teachings_given" id="teachings_given" min="0" 
                               class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                               value="{{ report.teachings_given }}" required>
                    </div>
                </div>
                
                <div>
                    <label for="working_hours" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Working Hours" %}</label>
                    <input type="number" name="working_hours" id="working_hours" min="0" max="24" step="0.5" 
                           class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                           value="{{ report.working_hours }}" required>
                </div>
                
                <div>
                    <label for="additional_notes" class="block text-sm font-medium {% if theme == 'dark' %}text-gray-300{% else %}text-gray-700{% endif %} mb-2">{% trans "Additional Notes" %}</label>
                    <textarea name="additional_notes" id="additional_notes" rows="4" 
                              class="w-full p-3 border {% if theme == 'dark' %}border-gray-600 bg-gray-700 text-white focus:border-blue-400{% else %}border-gray-300 focus:border-blue-500{% endif %} rounded-lg focus:outline-none" 
                              placeholder="{% trans 'Any additional notes or comments...' %}">{{ report.additional_notes }}</textarea>
                </div>

                <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200 font-medium">
                    {% trans "Save Report" %}
                </button>
            </form>
            
            <div class="mt-6 text-center">
                <a href="{% url 'seller_dashboard' %}" class="{% if theme == 'dark' %}text-gray-400 hover:text-gray-300{% else %}text-gray-600 hover:text-gray-700{% endif %} text-sm">
                    <i class="bi bi-arrow-left mr-1"></i>{% trans "Back to Dashboard" %}
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}